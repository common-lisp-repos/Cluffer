\section{Our technique}

We suggest a \clos{}-based \emph{protocol} defining the set of
operations on a buffer.  In fact, the protocol can be divided into
three fairly-independent protocols:

\begin{itemize}
\item An external protocol for interacting with the contents of a
  single line.  This protocol contains functions for inserting and
  deleting items in a line, for obtaining items and item count in a
  line, and also for manipulating the \emph{cursor} abstraction.
\item An external protocol for interacting with the contents of the
  buffer as a whole.  This protocol contains functions for inserting
  and deleting lines in the buffer, and for querying the line count
  and item count of the entire buffer.
\item An internal protocol that manages the interaction between the
  line abstraction and the buffer abstraction.
\end{itemize}
